import*as t from"@wordpress/interactivity";var e={d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const o=(r={getContext:()=>t.getContext,store:()=>t.store},a={},e.d(a,r),a);var r,a;(0,o.store)("wporg/favorite-button",{state:{get labelAction(){const{label:t,isFavorite:e}=(0,o.getContext)();return e?t.remove:t.add},get labelCount(){const{count:t}=(0,o.getContext)();return`${t}`},get labelScreenReader(){const{label:t,count:e}=(0,o.getContext)();return t.screenReader.replace("%s",e)}},actions:{*triggerAction(){const t=(0,o.getContext)();if(t.isLoading=!0,t.isFavorite)try{const e=yield wp.apiFetch({path:"/wporg/v1/favorite",method:"DELETE",data:{id:t.id}});"number"==typeof e&&(t.count=e),t.isFavorite=!1,wp.a11y.speak(t.label.unfavorited,"polite")}catch(t){}else try{const e=yield wp.apiFetch({path:"/wporg/v1/favorite",method:"POST",data:{id:t.id}});"number"==typeof e&&(t.count=e),t.isFavorite=!0,wp.a11y.speak(t.label.favorited,"polite")}catch(t){}t.isLoading=!1}}});