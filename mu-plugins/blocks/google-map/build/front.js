(()=>{var e={748:e=>{"use strict";function t(e,t){this.x=e,this.y=t}e.exports=t,t.prototype={clone:function(){return new t(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,o=n*this.x+t*this.y;return this.x=r,this.y=o,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),o=t.x+n*(this.x-t.x)-r*(this.y-t.y),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=o,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(e){return e instanceof t?e:Array.isArray(e)?new t(e[0],e[1]):e}},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,o,i,s){var a=n?n+e:e;if(!this._events[a])return!1;var l,c,p=this._events[a],u=arguments.length;if(p.fn){switch(p.once&&this.removeListener(e,p.fn,void 0,!0),u){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,t),!0;case 3:return p.fn.call(p.context,t,r),!0;case 4:return p.fn.call(p.context,t,r,o),!0;case 5:return p.fn.call(p.context,t,r,o,i),!0;case 6:return p.fn.call(p.context,t,r,o,i,s),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];p.fn.apply(p.context,l)}else{var h,m=p.length;for(c=0;c<m;c++)switch(p[c].once&&this.removeListener(e,p[c].fn,void 0,!0),u){case 1:p[c].fn.call(p[c].context);break;case 2:p[c].fn.call(p[c].context,t);break;case 3:p[c].fn.call(p[c].context,t,r);break;case 4:p[c].fn.call(p[c].context,t,r,o);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];p[c].fn.apply(p[c].context,l)}}return!0},a.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||o&&!a.once||r&&a.context!==r||s(this,i);else{for(var l=0,c=[],p=a.length;l<p;l++)(a[l].fn!==t||o&&!a[l].once||r&&a[l].context!==r)&&c.push(a[l]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},17:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var s=i[o];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},181:(e,t,n)=>{var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,p=l||c||Function("return this")(),u=Object.prototype.toString,h=Math.max,m=Math.min,d=function(){return p.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=i.test(e);return n||s.test(e)?a(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,i,s,a,l,c=0,p=!1,u=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function _(t){var n=r,i=o;return r=o=void 0,c=t,s=e.apply(i,n)}function v(e){var n=e-l;return void 0===l||n>=t||n<0||u&&e-c>=i}function w(){var e=d();if(v(e))return b(e);a=setTimeout(w,function(e){var n=t-(e-l);return u?m(n,i-(e-c)):n}(e))}function b(e){return a=void 0,y&&r?_(e):(r=o=void 0,s)}function M(){var e=d(),n=v(e);if(r=arguments,o=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(w,t),p?_(e):s}(l);if(u)return a=setTimeout(w,t),_(l)}return void 0===a&&(a=setTimeout(w,t)),s}return t=g(t)||0,f(n)&&(p=!!n.leading,i=(u="maxWait"in n)?h(g(n.maxWait)||0,t):i,y="trailing"in n?!!n.trailing:y),M.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=o=a=void 0},M.flush=function(){return void 0===a?s:b(d())},M}},858:(e,t,n)=>{var r="Expected a function",o=NaN,i="[object Symbol]",s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,p=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,h="object"==typeof self&&self&&self.Object===Object&&self,m=u||h||Function("return this")(),d=Object.prototype.toString,f=Math.max,g=Math.min,y=function(){return m.Date.now()};function _(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&d.call(e)==i}(e))return o;if(_(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=l.test(e);return n||c.test(e)?p(e.slice(2),n?2:8):a.test(e)?o:+e}e.exports=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(r);return _(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),function(e,t,n){var o,i,s,a,l,c,p=0,u=!1,h=!1,m=!0;if("function"!=typeof e)throw new TypeError(r);function d(t){var n=o,r=i;return o=i=void 0,p=t,a=e.apply(r,n)}function w(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-p>=s}function b(){var e=y();if(w(e))return M(e);l=setTimeout(b,function(e){var n=t-(e-c);return h?g(n,s-(e-p)):n}(e))}function M(e){return l=void 0,m&&o?d(e):(o=i=void 0,a)}function C(){var e=y(),n=w(e);if(o=arguments,i=this,c=e,n){if(void 0===l)return function(e){return p=e,l=setTimeout(b,t),u?d(e):a}(c);if(h)return l=setTimeout(b,t),d(c)}return void 0===l&&(l=setTimeout(b,t)),a}return t=v(t)||0,_(n)&&(u=!!n.leading,s=(h="maxWait"in n)?f(v(n.maxWait)||0,t):s,m="trailing"in n?!!n.trailing:m),C.cancel=function(){void 0!==l&&clearTimeout(l),p=0,o=c=i=l=void 0},C.flush=function(){return void 0===l?a:M(y())},C}(e,t,{leading:o,maxWait:t,trailing:i})}},694:(e,t,n)=>{"use strict";var r=n(925);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},556:(e,t,n)=>{e.exports=n(694)()},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.React;var t=n.n(e);const r=window.wp.element;var o=n(858),i=n.n(o);const s=window.wp.i18n;function a({formAction:t,searchQuery:n,onQueryChange:o,iconURL:i}){const a=(0,r.useCallback)((e=>{t||e.preventDefault()}),[t]),l=(0,e.createElement)("img",{className:"wporg-marker-search__icon",src:i,alt:(0,s.__)("Search","wporg")}),c=t?new URL(t):void 0;return(0,e.createElement)("form",{className:"wporg-marker-search__container",action:t?c.href:void 0,onSubmit:a},(0,e.createElement)("label",{htmlFor:"wporg-marker-search__input"},(0,e.createElement)("span",null,(0,s.__)("Search events:","wporg")),(0,e.createElement)("input",{className:"wporg-marker-search__input",type:"text",name:"search",value:n,placeholder:(0,s._x)("Springfield","Event query placeholder","wporg"),"aria-label":(0,s.__)("Search events:","wporg"),onChange:o})),t?(0,e.createElement)("button",{type:"submit",className:"is-tertiary"},l):l)}var l=n(556),c=n.n(l);const p=window.ReactDOM;var u=n.n(p),h=n(228),m=n.n(h);function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}"function"==typeof SuppressedError&&SuppressedError;var f=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var s=i[o];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n},g=d(f);const y="__googleMapsScriptId";var _;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(_||(_={}));class v{constructor({apiKey:e,authReferrerPolicy:t,channel:n,client:r,id:o=y,language:i,libraries:s=[],mapIds:a,nonce:l,region:c,retries:p=3,url:u="https://maps.googleapis.com/maps/api/js",version:h}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=n,this.client=r,this.id=o||y,this.language=i,this.libraries=s,this.mapIds=a,this.nonce=l,this.region=c,this.retries=p,this.url=u,this.version=h,v.instance){if(!g(this.options,v.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(v.instance.options)}`);return v.instance}v.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?_.FAILURE:this.done?_.SUCCESS:this.loading?_.LOADING:_.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((n=>{n?t(n.error):e(window.google)}))}))}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id))return void this.callback();const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach((e=>!n[e]&&delete n[e])),(null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.maps)||void 0===t?void 0:t.importLibrary)||(e=>{let t,n,r,o="The Google Maps JavaScript API",i="google",s="importLibrary",a="__ib__",l=document,c=window;c=c[i]||(c[i]={});const p=c.maps||(c.maps={}),u=new Set,h=new URLSearchParams,m=()=>t||(t=new Promise(((s,c)=>function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){var m;for(r in yield n=l.createElement("script"),n.id=this.id,h.set("libraries",[...u]+""),e)h.set(r.replace(/[A-Z]/g,(e=>"_"+e[0].toLowerCase())),e[r]);h.set("callback",i+".maps."+a),n.src=this.url+"?"+h,p[a]=s,n.onerror=()=>t=c(Error(o+" could not load.")),n.nonce=this.nonce||(null===(m=l.querySelector("script[nonce]"))||void 0===m?void 0:m.nonce)||"",l.head.append(n)})))));p[s]?console.warn(o+" only loads once. Ignoring:",e):p[s]=(e,...t)=>u.add(e)&&m().then((()=>p[s](e,...t)))})(n);const r=this.libraries.map((e=>this.importLibrary(e)));r.length||r.push(this.importLibrary("core")),Promise.all(r).then((()=>this.callback()),(e=>{const t=new ErrorEvent("error",{error:e});this.loadErrorCallback(t)}))}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setScript())}}}var w=n(748),b=n.n(w);function M(){return(M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){var n,r;e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n=e,r=t,(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(n,r)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var T={width:"100%",height:"100%",left:0,top:0,margin:0,padding:0,position:"absolute"},x=function(e){function n(){return e.apply(this,arguments)||this}C(n,e);var r=n.prototype;return r.shouldComponentUpdate=function(){return!1},r.render=function(){return t().createElement("div",{ref:this.props.registerChild,style:T})},n}(e.Component),E=function(e){function t(t){var n;return(n=e.call(this)||this).gmapInstance=t,n}C(t,e);var n=t.prototype;return n.getChildren=function(){return this.gmapInstance.props.children},n.getMousePosition=function(){return this.gmapInstance.mouse_},n.getUpdateCounter=function(){return this.gmapInstance.updateCounter_},n.dispose=function(){this.gmapInstance=null,this.removeAllListeners()},t}(m()),L=function(e,t){for(var n=M({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),r=0;r<t.length;r++){var o=t[r];o in n&&delete n[o]}return n},O=Object.prototype.hasOwnProperty;function S(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function A(e,t){if(S(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!O.call(t,n[o])||!S(e[n[o]],t[n[o]]))return!1;return!0}var P={width:"100%",height:"100%",left:0,top:0,margin:0,padding:0,position:"absolute"},D={width:0,height:0,left:0,top:0,backgroundColor:"transparent",position:"absolute"},I=function(e){function n(n){var r;return(r=e.call(this,n)||this)._getState=function(){return{children:r.props.dispatcher.getChildren(),updateCounter:r.props.dispatcher.getUpdateCounter()}},r._onChangeHandler=function(){if(r.dimensionsCache_){var e=(r.state.children||[]).length,t=r._getState();r.setState(t,(function(){return(t.children||[]).length!==e&&r._onMouseChangeHandler()}))}},r._onChildClick=function(){r.props.onChildClick&&r.hoverChildProps_&&r.props.onChildClick(r.hoverKey_,r.hoverChildProps_)},r._onChildMouseDown=function(){r.props.onChildMouseDown&&r.hoverChildProps_&&r.props.onChildMouseDown(r.hoverKey_,r.hoverChildProps_)},r._onChildMouseEnter=function(e,t){r.dimensionsCache_&&(r.props.onChildMouseEnter&&r.props.onChildMouseEnter(e,t),r.hoverChildProps_=t,r.hoverKey_=e,r.setState({hoverKey:e}))},r._onChildMouseLeave=function(){if(r.dimensionsCache_){var e=r.hoverKey_;null!=e&&(r.props.onChildMouseLeave&&r.props.onChildMouseLeave(e,r.hoverChildProps_),r.hoverKey_=null,r.hoverChildProps_=null,r.setState({hoverKey:null}))}},r._onMouseAllow=function(e){e||r._onChildMouseLeave(),r.allowMouse_=e},r._onMouseChangeHandler=function(){r.allowMouse_&&r._onMouseChangeHandlerRaf()},r._onMouseChangeHandlerRaf=function(){if(r.dimensionsCache_){var e=r.props.dispatcher.getMousePosition();if(e){var n=[],o=r.props.getHoverDistance();if(t().Children.forEach(r.state.children,(function(t,i){if(t&&(void 0!==t.props.latLng||void 0!==t.props.lat||void 0!==t.props.lng)){var s=null!=t.key?t.key:i,a=r.props.distanceToMouse(r.dimensionsCache_[s],e,t.props);a<o&&n.push({key:s,dist:a,props:t.props})}})),n.length){n.sort((function(e,t){return e.dist-t.dist}));var i=n[0].key,s=n[0].props;r.hoverKey_!==i&&(r._onChildMouseLeave(),r._onChildMouseEnter(i,s))}else r._onChildMouseLeave()}else r._onChildMouseLeave()}},r._getDimensions=function(e){return r.dimensionsCache_[e]},r.dimensionsCache_={},r.hoverKey_=null,r.hoverChildProps_=null,r.allowMouse_=!0,r.state=M({},r._getState(),{hoverKey:null}),r}C(n,e);var r=n.prototype;return r.componentDidMount=function(){this.props.dispatcher.on("kON_CHANGE",this._onChangeHandler),this.props.dispatcher.on("kON_MOUSE_POSITION_CHANGE",this._onMouseChangeHandler),this.props.dispatcher.on("kON_CLICK",this._onChildClick),this.props.dispatcher.on("kON_MDOWN",this._onChildMouseDown)},r.shouldComponentUpdate=function(e,t){return!0===this.props.experimental?!A(this.props,e)||!A(L(this.state,["hoverKey"]),L(t,["hoverKey"])):!A(this.props,e)||!A(this.state,t)},r.componentWillUnmount=function(){this.props.dispatcher.removeListener("kON_CHANGE",this._onChangeHandler),this.props.dispatcher.removeListener("kON_MOUSE_POSITION_CHANGE",this._onMouseChangeHandler),this.props.dispatcher.removeListener("kON_CLICK",this._onChildClick),this.props.dispatcher.removeListener("kON_MDOWN",this._onChildMouseDown),this.dimensionsCache_=null},r.render=function(){var e=this,n=this.props.style||P;this.dimensionsCache_={};var r=t().Children.map(this.state.children,(function(n,r){if(n){if(void 0===n.props.latLng&&void 0===n.props.lat&&void 0===n.props.lng)return t().cloneElement(n,{$geoService:e.props.geoService,$onMouseAllow:e._onMouseAllow,$prerender:e.props.prerender});var o=void 0!==n.props.latLng?n.props.latLng:{lat:n.props.lat,lng:n.props.lng},i=e.props.insideMapPanes?e.props.geoService.fromLatLngToDivPixel(o):e.props.geoService.fromLatLngToCenterPixel(o),s={left:i.x,top:i.y};if(void 0!==n.props.seLatLng||void 0!==n.props.seLat&&void 0!==n.props.seLng){var a=void 0!==n.props.seLatLng?n.props.seLatLng:{lat:n.props.seLat,lng:n.props.seLng},l=e.props.insideMapPanes?e.props.geoService.fromLatLngToDivPixel(a):e.props.geoService.fromLatLngToCenterPixel(a);s.width=l.x-i.x,s.height=l.y-i.y}var c=e.props.geoService.fromLatLngToContainerPixel(o),p=null!=n.key?n.key:r;return e.dimensionsCache_[p]=M({x:c.x,y:c.y},o),t().createElement("div",{key:p,style:M({},D,s),className:n.props.$markerHolderClassName},t().cloneElement(n,{$hover:p===e.state.hoverKey,$getDimensions:e._getDimensions,$dimensionKey:p,$geoService:e.props.geoService,$onMouseAllow:e._onMouseAllow,$prerender:e.props.prerender}))}}));return t().createElement("div",{style:n},r)},n}(e.Component);I.propTypes={geoService:c().any,style:c().any,distanceToMouse:c().func,dispatcher:c().any,onChildClick:c().func,onChildMouseDown:c().func,onChildMouseLeave:c().func,onChildMouseEnter:c().func,getHoverDistance:c().func,insideMapPanes:c().bool,prerender:c().bool},I.defaultProps={insideMapPanes:!1,prerender:!1};var z={width:"50%",height:"50%",left:"50%",top:"50%",margin:0,padding:0,position:"absolute"};function N(e){return t().createElement("div",{style:z},t().createElement(I,M({},e,{prerender:!0})))}var j,Z,R,U=["key"],F=new Promise((function(e){R=e})),H=function(e,t){if(!e)return F;if(Z)return Z;e.libraries||(e.libraries=[]);var n=[].concat(e.libraries);if(t&&(0!==n.length&&n.includes("visualization")||n.push("visualization"),console.warn("heatmapLibrary will be deprecated in the future. Please use { libraries: ['visualization'] } in bootstrapURLKeys property instead")),"undefined"==typeof window)throw new Error("google map cannot be loaded outside browser env");var r=e.key,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}(e,U);return j||(j=new v(M({apiKey:r||""},o,{libraries:n}))),Z=j.load().then((function(){return R(window.google.maps),window.google.maps})),R(Z),Z};function B(e,t,n){var r=n-t;return e===n?e:((e-t)%r+r)%r+t}var K=function(){function e(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t}return e.prototype.wrap=function(){return new e(this.lat,B(this.lng,-180,180))},e}();K.convert=function(e){return e instanceof K?e:Array.isArray(e)?new K(e[0],e[1]):"lng"in e&&"lat"in e?new K(e.lat,e.lng):e};var W=function(){function e(e,t,n){this.tileSize=e||512,this._minZoom=t||0,this._maxZoom=n||52,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this.zoom=0,this.center=new K(0,0),this.angle=0}var t,n,r=e.prototype;return r.zoomScale=function(e){return Math.pow(2,e)},r.scaleZoom=function(e){return Math.log(e)/Math.LN2},r.project=function(e,t){return new(b())(this.lngX(e.lng,t),this.latY(e.lat,t))},r.unproject=function(e,t){return new K(this.yLat(e.y,t),this.xLng(e.x,t))},r.lngX=function(e,t){return(180+e)*(t||this.worldSize)/360},r.latY=function(e,t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))*(t||this.worldSize)/360},r.xLng=function(e,t){return 360*e/(t||this.worldSize)-180},r.yLat=function(e,t){return 360/Math.PI*Math.atan(Math.exp((180-360*e/(t||this.worldSize))*Math.PI/180))-90},r.locationPoint=function(e){var t=this.project(e);return this.centerPoint._sub(this.point._sub(t)._rotate(this.angle))},r.pointLocation=function(e){var t=this.centerPoint._sub(e)._rotate(-this.angle);return this.unproject(this.point.sub(t))},t=e,(n=[{key:"minZoom",get:function(){return this._minZoom},set:function(e){this._minZoom=e,this.zoom=Math.max(this.zoom,e)}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(e){this._maxZoom=e,this.zoom=Math.min(this.zoom,e)}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"centerPoint",get:function(){return new(b())(0,0)}},{key:"size",get:function(){return new(b())(this.width,this.height)}},{key:"bearing",get:function(){return-this.angle/Math.PI*180},set:function(e){this.angle=-B(e,-180,180)*Math.PI/180}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom}},{key:"x",get:function(){return this.lngX(this.center.lng)}},{key:"y",get:function(){return this.latY(this.center.lat)}},{key:"point",get:function(){return new(b())(this.x,this.y)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key))?o:String(o),r)}var o}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),$=function(){function e(e){this.hasSize_=!1,this.hasView_=!1,this.transform_=new W(e||512)}var t=e.prototype;return t.setView=function(e,t,n){this.transform_.center=K.convert(e),this.transform_.zoom=+t,this.transform_.bearing=+n,this.hasView_=!0},t.setViewSize=function(e,t){this.transform_.width=e,this.transform_.height=t,this.hasSize_=!0},t.setMapCanvasProjection=function(e,t){this.maps_=e,this.mapCanvasProjection_=t},t.canProject=function(){return this.hasSize_&&this.hasView_},t.hasSize=function(){return this.hasSize_},t.fromLatLngToCenterPixel=function(e){return this.transform_.locationPoint(K.convert(e))},t.fromLatLngToDivPixel=function(e){if(this.mapCanvasProjection_){var t=new this.maps_.LatLng(e.lat,e.lng);return this.mapCanvasProjection_.fromLatLngToDivPixel(t)}return this.fromLatLngToCenterPixel(e)},t.fromLatLngToContainerPixel=function(e){if(this.mapCanvasProjection_){var t=new this.maps_.LatLng(e.lat,e.lng);return this.mapCanvasProjection_.fromLatLngToContainerPixel(t)}var n=this.fromLatLngToCenterPixel(e);return n.x-=this.transform_.worldSize*Math.round(n.x/this.transform_.worldSize),n.x+=this.transform_.width/2,n.y+=this.transform_.height/2,n},t.fromContainerPixelToLatLng=function(e){if(this.mapCanvasProjection_){var t=this.mapCanvasProjection_.fromContainerPixelToLatLng(e);return{lat:t.lat(),lng:t.lng()}}var n=M({},e);n.x-=this.transform_.width/2,n.y-=this.transform_.height/2;var r=this.transform_.pointLocation(b().convert(n));return r.lng-=360*Math.round(r.lng/360),r},t.getWidth=function(){return this.transform_.width},t.getHeight=function(){return this.transform_.height},t.getZoom=function(){return this.transform_.zoom},t.getCenter=function(){return this.transform_.pointLocation({x:0,y:0})},t.getBounds=function(e,t){var n=e&&e[0]||0,r=e&&e[1]||0,o=e&&e[2]||0,i=e&&e[3]||0;if(this.getWidth()-r-i>0&&this.getHeight()-n-o>0){var s=this.transform_.pointLocation(b().convert({x:i-this.getWidth()/2,y:n-this.getHeight()/2})),a=this.transform_.pointLocation(b().convert({x:this.getWidth()/2-r,y:this.getHeight()/2-o})),l=[s.lat,s.lng,a.lat,a.lng,a.lat,s.lng,s.lat,a.lng];return t&&(l=l.map((function(e){return Math.round(e*t)/t}))),l}return[0,0,0,0]},e}();function G(e){if(window.requestAnimationFrame)return window.requestAnimationFrame(e);var t=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return t?t(e):window.setTimeout(e,1e3/60)}var V=Math.log2?Math.log2:function(e){return Math.log(e)/Math.LN2};function q(e,t){return Object.keys(e).reduce((function(n,r){return t(e[r])&&(n[r]=e[r]),n}),{})}var X=function(e){if(null!==e&&"object"==typeof e){if(0===Object.keys(e).length)return!0}else if(null==e||""===e)return!0;return!1},Y=Object.prototype.toString;function Q(e){return"number"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Number]"===Y.call(e)}var J=null;function ee(){if(J)return J;if("undefined"!=typeof navigator){var e=navigator.userAgent.indexOf("MSIE")>-1,t=navigator.userAgent.indexOf("Firefox")>-1,n=navigator.userAgent.toLowerCase().indexOf("op")>-1,r=navigator.userAgent.indexOf("Chrome")>-1,o=navigator.userAgent.indexOf("Safari")>-1;return r&&o&&(o=!1),r&&n&&(r=!1),J={isExplorer:e,isFirefox:t,isOpera:n,isChrome:r,isSafari:o}}return J={isChrome:!0,isExplorer:!1,isFirefox:!1,isOpera:!1,isSafari:!1}}var te=function(e){return Function.prototype.toString.call(e)};function ne(e){if(!e||"object"!=typeof e)return!1;var t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&te(n)===te(Object)}function re(e,t,n,r){e.addEventListener(t,n,function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}()?{capture:r,passive:!0}:r)}var oe,ie=!("undefined"==typeof window||!window.document||!window.document.createElement);oe=ie?window:"undefined"!=typeof self?self:void 0;var se,ae,le="undefined"!=typeof document&&document.attachEvent,ce=!1;if(ie&&!le){var pe=(ae=oe.requestAnimationFrame||oe.mozRequestAnimationFrame||oe.webkitRequestAnimationFrame||function(e){return oe.setTimeout(e,20)},function(e){return ae(e)}),ue=(se=oe.cancelAnimationFrame||oe.mozCancelAnimationFrame||oe.webkitCancelAnimationFrame||oe.clearTimeout,function(e){return se(e)}),he=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},me=function(e){var t=this;he(this),this.__resizeRAF__&&ue(this.__resizeRAF__),this.__resizeRAF__=pe((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))},de=!1,fe="",ge="animationstart",ye="Webkit Moz O ms".split(" "),_e="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" ");if(ie){var ve=document.createElement("fakeelement");if(void 0!==ve.style.animationName&&(de=!0),!1===de)for(var we=0;we<ye.length;we++)if(void 0!==ve.style[ye[we]+"AnimationName"]){fe="-"+ye[we].toLowerCase()+"-",ge=_e[we],de=!0;break}}var be="resizeanim",Me="@"+fe+"keyframes "+be+" { from { opacity: 0; } to { opacity: 0; } } ",Ce=fe+"animation: 1ms "+be+"; "}var ke=void 0!==u().createPortal,Te=ke?u().createPortal:u().unstable_renderSubtreeIntoContainer,xe=function(e){return ne(e)?e:{lat:e[0],lng:e[1]}},Ee=function(e,t){return t<e?e:t},Le=function(e){function n(n){var r;if((r=e.call(this,n)||this)._getMinZoom=function(){if(r.geoService_.getWidth()>0||r.geoService_.getHeight()>0){var e=Math.ceil(r.geoService_.getWidth()/256)+2,t=Math.ceil(r.geoService_.getHeight()/256)+2,n=Math.max(e,t);return Math.ceil(V(n))}return 3},r._computeMinZoom=function(e){return X(e)?r._getMinZoom():e},r._mapDomResizeCallback=function(){if(r.resetSizeOnIdle_=!0,r.maps_){var e=r.props.center||r.props.defaultCenter,t=r.map_.getCenter();r.maps_.event.trigger(r.map_,"resize"),r.map_.setCenter(r.props.resetBoundsOnResize?e:t)}},r._setLayers=function(e){e.forEach((function(e){r.layers_[e]=new r.maps_[e],r.layers_[e].setMap(r.map_)}))},r._renderPortal=function(){return t().createElement(I,{experimental:r.props.experimental,onChildClick:r._onChildClick,onChildMouseDown:r._onChildMouseDown,onChildMouseEnter:r._onChildMouseEnter,onChildMouseLeave:r._onChildMouseLeave,geoService:r.geoService_,insideMapPanes:!0,distanceToMouse:r.props.distanceToMouse,getHoverDistance:r._getHoverDistance,dispatcher:r.markersDispatcher_})},r._initMap=function(){if(!r.initialized_){r.initialized_=!0;var e=xe(r.props.center||r.props.defaultCenter);r.geoService_.setView(e,r.props.zoom||r.props.defaultZoom,0),r._onBoundsChanged();var t=M({},r.props.apiKey&&{key:r.props.apiKey},r.props.bootstrapURLKeys);r.props.googleMapLoader(t,r.props.heatmapLibrary).then((function(e){if(r.mounted_){var t,n,o=r.geoService_.getCenter(),i={zoom:r.props.zoom||r.props.defaultZoom,center:new e.LatLng(o.lat,o.lng)};r.props.heatmap.positions&&(Object.assign(k(r),{heatmap:(t=e,n=r.props.heatmap,new t.visualization.HeatmapLayer({data:n.positions.reduce((function(e,n){var r=n.weight,o=void 0===r?1:r;return e.push({location:new t.LatLng(n.lat,n.lng),weight:o}),e}),[])}))}),function(e,t){var n=t.options,r=void 0===n?{}:n;Object.keys(r).map((function(t){return e.set(t,r[t])}))}(r.heatmap,r.props.heatmap));var s=q(e,ne),a="function"==typeof r.props.options?r.props.options(s):r.props.options,l=!X(r.props.draggable)&&{draggable:r.props.draggable},c=r._computeMinZoom(a.minZoom);r.minZoom_=c;var p=M({},{overviewMapControl:!1,streetViewControl:!1,rotateControl:!0,mapTypeControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],minZoom:3},{minZoom:c},a,i);r.defaultDraggableOption_=X(p.draggable)?r.defaultDraggableOption_:p.draggable;var h=M({},p,l);h.minZoom=Ee(h.minZoom,c);var m=new e.Map(u().findDOMNode(r.googleMapDom_),h);r.map_=m,r.maps_=e,r._setLayers(r.props.layerTypes);var d=e.version.match(/^3\.(\d+)\./),f=d&&Number(d[1]),g=k(r),y=Object.assign(new e.OverlayView,{onAdd:function(){var t="undefined"!=typeof screen?screen.width+"px":"2000px",n="undefined"!=typeof screen?screen.height+"px":"2000px",r=document.createElement("div");if(r.style.backgroundColor="transparent",r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style.width=t,r.style.height=n,g.props.overlayViewDivStyle){var o=g.props.overlayViewDivStyle;"object"==typeof o&&Object.keys(o).forEach((function(e){r.style[e]=o[e]}))}this.getPanes().overlayMouseTarget.appendChild(r),g.geoService_.setMapCanvasProjection(e,y.getProjection()),ke?g.setState({overlay:r}):Te(g,g._renderPortal(),r,(function(){return g.setState({overlay:r})}))},onRemove:function(){var e=g.state.overlay;e&&!ke&&u().unmountComponentAtNode(e),g.setState({overlay:null})},draw:function(){if(g.updateCounter_++,g._onBoundsChanged(m,e,!g.props.debounced),g.googleApiLoadedCalled_||(g._onGoogleApiLoaded({map:m,maps:e,ref:g.googleMapDom_}),g.googleApiLoadedCalled_=!0),g.mouse_){var t=g.geoService_.fromContainerPixelToLatLng(g.mouse_);g.mouse_.lat=t.lat,g.mouse_.lng=t.lng}g._onChildMouseMove(),g.markersDispatcher_&&(g.markersDispatcher_.emit("kON_CHANGE"),g.fireMouseEventOnIdle_&&g.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE"))}});r.overlay_=y,y.setMap(m),r.props.heatmap.positions&&r.heatmap.setMap(m),r.props.onTilesLoaded&&e.event.addListener(m,"tilesloaded",(function(){g._onTilesLoaded()})),e.event.addListener(m,"zoom_changed",(function(){g.geoService_.getZoom()!==m.getZoom()&&(g.zoomAnimationInProgress_||(g.zoomAnimationInProgress_=!0,g._onZoomAnimationStart(m.zoom)),f<32)&&((new Date).getTime()-r.zoomControlClickTime_<300?G((function(){return G((function(){g.updateCounter_++,g._onBoundsChanged(m,e)}))})):(g.updateCounter_++,g._onBoundsChanged(m,e)))})),e.event.addListener(m,"idle",(function(){if(r.resetSizeOnIdle_){r._setViewSize();var t=r._computeMinZoom(a.minZoom);t!==r.minZoom_&&(r.minZoom_=t,m.setOptions({minZoom:t})),r.resetSizeOnIdle_=!1}g.zoomAnimationInProgress_&&(g.zoomAnimationInProgress_=!1,g._onZoomAnimationEnd(m.zoom)),g.updateCounter_++,g._onBoundsChanged(m,e),g.dragTime_=0,g.markersDispatcher_&&g.markersDispatcher_.emit("kON_CHANGE")})),e.event.addListener(m,"mouseover",(function(){g.mouseInMap_=!0})),e.event.addListener(m,"click",(function(){g.mouseInMap_=!0})),e.event.addListener(m,"mouseout",(function(){g.mouseInMap_=!1,g.mouse_=null,g.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE")})),e.event.addListener(m,"drag",(function(){g.dragTime_=(new Date).getTime(),g._onDrag(m)})),e.event.addListener(m,"dragend",(function(){var t=e.event.addListener(m,"idle",(function(){e.event.removeListener(t),g._onDragEnd(m)}))})),e.event.addListener(m,"maptypeid_changed",(function(){g._onMapTypeIdChange(m.getMapTypeId())}))}})).catch((function(e){throw r._onGoogleApiLoaded({map:null,maps:null,ref:r.googleMapDom_}),console.error(e),e}))}},r._onGoogleApiLoaded=function(){var e;r.props.onGoogleApiLoaded&&(e=r.props).onGoogleApiLoaded.apply(e,arguments)},r._getHoverDistance=function(){return r.props.hoverDistance},r._onDrag=function(){var e;return r.props.onDrag&&(e=r.props).onDrag.apply(e,arguments)},r._onDragEnd=function(){var e;return r.props.onDragEnd&&(e=r.props).onDragEnd.apply(e,arguments)},r._onMapTypeIdChange=function(){var e;return r.props.onMapTypeIdChange&&(e=r.props).onMapTypeIdChange.apply(e,arguments)},r._onZoomAnimationStart=function(){var e;return r.props.onZoomAnimationStart&&(e=r.props).onZoomAnimationStart.apply(e,arguments)},r._onZoomAnimationEnd=function(){var e;return r.props.onZoomAnimationEnd&&(e=r.props).onZoomAnimationEnd.apply(e,arguments)},r._onTilesLoaded=function(){return r.props.onTilesLoaded&&r.props.onTilesLoaded()},r._onChildClick=function(){var e;if(r.props.onChildClick)return(e=r.props).onChildClick.apply(e,arguments)},r._onChildMouseDown=function(e,t){r.childMouseDownArgs_=[e,t],r.props.onChildMouseDown&&r.props.onChildMouseDown(e,t,M({},r.mouse_))},r._onChildMouseUp=function(){var e;r.childMouseDownArgs_&&(r.props.onChildMouseUp&&(e=r.props).onChildMouseUp.apply(e,r.childMouseDownArgs_.concat([M({},r.mouse_)])),r.childMouseDownArgs_=null,r.childMouseUpTime_=(new Date).getTime())},r._onChildMouseMove=function(){var e;r.childMouseDownArgs_&&r.props.onChildMouseMove&&(e=r.props).onChildMouseMove.apply(e,r.childMouseDownArgs_.concat([M({},r.mouse_)]))},r._onChildMouseEnter=function(){var e;if(r.props.onChildMouseEnter)return(e=r.props).onChildMouseEnter.apply(e,arguments)},r._onChildMouseLeave=function(){var e;if(r.props.onChildMouseLeave)return(e=r.props).onChildMouseLeave.apply(e,arguments)},r._setViewSize=function(){if(r.mounted_){if(document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)r.geoService_.setViewSize(window.innerWidth,window.innerHeight);else{var e=u().findDOMNode(r.googleMapDom_);r.geoService_.setViewSize(e.clientWidth,e.clientHeight)}r._onBoundsChanged()}},r._onWindowResize=function(){r.resetSizeOnIdle_=!0},r._onMapMouseMove=function(e){if(r.mouseInMap_){var t=(new Date).getTime();t-r.mouseMoveTime_>50&&(r.boundingRect_=e.currentTarget.getBoundingClientRect()),r.mouseMoveTime_=t;var n=e.clientX-r.boundingRect_.left,o=e.clientY-r.boundingRect_.top;r.mouse_||(r.mouse_={x:0,y:0,lat:0,lng:0}),r.mouse_.x=n,r.mouse_.y=o;var i=r.geoService_.fromContainerPixelToLatLng(r.mouse_);r.mouse_.lat=i.lat,r.mouse_.lng=i.lng,r._onChildMouseMove(),t-r.dragTime_<100?r.fireMouseEventOnIdle_=!0:(r.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE"),r.fireMouseEventOnIdle_=!1)}},r._onClick=function(){var e;return r.props.onClick&&!r.childMouseDownArgs_&&(new Date).getTime()-r.childMouseUpTime_>300&&0===r.dragTime_&&(e=r.props).onClick.apply(e,arguments)},r._onMapClick=function(e){r.markersDispatcher_&&(r._onMapMouseMove(e),(new Date).getTime()-r.dragTime_>100&&(r.mouse_&&r._onClick(M({},r.mouse_,{event:e})),r.markersDispatcher_.emit("kON_CLICK",e)))},r._onMapMouseDownNative=function(e){r.mouseInMap_&&r._onMapMouseDown(e)},r._onMapMouseDown=function(e){r.markersDispatcher_&&(new Date).getTime()-r.dragTime_>100&&(r._onMapMouseMove(e),r.markersDispatcher_.emit("kON_MDOWN",e))},r._onMapMouseDownCapture=function(){ee().isChrome&&(r.zoomControlClickTime_=(new Date).getTime())},r._onKeyDownCapture=function(){ee().isChrome&&(r.zoomControlClickTime_=(new Date).getTime())},r._isCenterDefined=function(e){return e&&(ne(e)&&Q(e.lat)&&Q(e.lng)||2===e.length&&Q(e[0])&&Q(e[1]))},r._onBoundsChanged=function(e,t,n){if(e){var o=e.getCenter();r.geoService_.setView([o.lat(),o.lng()],e.getZoom(),0)}if((r.props.onChange||r.props.onBoundsChange)&&r.geoService_.canProject()){var i=r.geoService_.getZoom(),s=r.geoService_.getBounds(),a=r.geoService_.getCenter();if(!function(e,t,n){if(e&&t){for(var r=0;r!==e.length;++r)if(Math.abs(e[r]-t[r])>1e-5)return!1;return!0}return!1}(s,r.prevBounds_)&&!1!==n){var l=r.geoService_.getBounds(r.props.margin);r.props.onBoundsChange&&r.props.onBoundsChange(r.centerIsObject_?M({},a):[a.lat,a.lng],i,s,l),r.props.onChange&&r.props.onChange({center:M({},a),zoom:i,bounds:{nw:{lat:s[0],lng:s[1]},se:{lat:s[2],lng:s[3]},sw:{lat:s[4],lng:s[5]},ne:{lat:s[6],lng:s[7]}},marginBounds:{nw:{lat:l[0],lng:l[1]},se:{lat:l[2],lng:l[3]},sw:{lat:l[4],lng:l[5]},ne:{lat:l[6],lng:l[7]}},size:r.geoService_.hasSize()?{width:r.geoService_.getWidth(),height:r.geoService_.getHeight()}:{width:0,height:0}}),r.prevBounds_=s}}},r._registerChild=function(e){r.googleMapDom_=e},r.mounted_=!1,r.initialized_=!1,r.googleApiLoadedCalled_=!1,r.map_=null,r.maps_=null,r.prevBounds_=null,r.heatmap=null,r.layers_={},r.mouse_=null,r.mouseMoveTime_=0,r.boundingRect_=null,r.mouseInMap_=!0,r.dragTime_=0,r.fireMouseEventOnIdle_=!1,r.updateCounter_=0,r.markersDispatcher_=new E(k(r)),r.geoService_=new $(256),r.centerIsObject_=ne(r.props.center),r.minZoom_=3,r.defaultDraggableOption_=!0,r.zoomControlClickTime_=0,r.childMouseDownArgs_=null,r.childMouseUpTime_=0,r.googleMapDom_=null,r._isCenterDefined(r.props.center||r.props.defaultCenter)){var o=xe(r.props.center||r.props.defaultCenter);r.geoService_.setView(o,r.props.zoom||r.props.defaultZoom,0)}return r.zoomAnimationInProgress_=!1,r.state={overlay:null},r}C(n,e);var r=n.prototype;return r.componentDidMount=function(){var e=this;this.mounted_=!0,this.markersDispatcher_=new E(this),re(window,"resize",this._onWindowResize,!1),re(window,"keydown",this._onKeyDownCapture,!0);var t=u().findDOMNode(this.googleMapDom_);t&&re(t,"mousedown",this._onMapMouseDownNative,!0),re(window,"mouseup",this._onChildMouseUp,!1);var n=M({},this.props.apiKey&&{key:this.props.apiKey},this.props.bootstrapURLKeys);this.props.googleMapLoader(n,this.props.heatmapLibrary),setTimeout((function(){e._setViewSize(),e._isCenterDefined(e.props.center||e.props.defaultCenter)&&e._initMap()}),0,this),this.props.resetBoundsOnResize&&function(e,t){if(void 0===e.parentNode){var n=document.createElement("div");e.parentNode=n}e=e.parentNode,le?e.attachEvent("onresize",t):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),function(){if(!ce){var e=(Me||"")+".resize-triggers { "+(Ce||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n),ce=!0}}(),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),he(e),re(e,"scroll",me,!0),ge&&e.__resizeTriggers__.addEventListener(ge,(function(t){t.animationName==be&&he(e)}))),e.__resizeListeners__.push(t))}(t,this._mapDomResizeCallback)},r.shouldComponentUpdate=function(e,t){return!A(L(this.props,["draggable"]),L(e,["draggable"]))||!A(this.state,t)},r.componentDidUpdate=function(e){var t=this;if(!this._isCenterDefined(e.center)&&this._isCenterDefined(this.props.center)&&setTimeout((function(){return t._initMap()}),0),this.map_){var n=this.geoService_.getCenter();if(this._isCenterDefined(this.props.center)){var r=xe(this.props.center),o=this._isCenterDefined(e.center)?xe(e.center):null;(!o||Math.abs(r.lat-o.lat)+Math.abs(r.lng-o.lng)>1e-5)&&Math.abs(r.lat-n.lat)+Math.abs(r.lng-n.lng)>1e-5&&this.map_.panTo({lat:r.lat,lng:r.lng})}if(X(this.props.zoom)||Math.abs(this.props.zoom-e.zoom)>0&&this.map_.setZoom(this.props.zoom),!X(e.draggable)&&X(this.props.draggable)?this.map_.setOptions({draggable:this.defaultDraggableOption_}):A(e.draggable,this.props.draggable)||this.map_.setOptions({draggable:this.props.draggable}),!X(this.props.options)&&!A(e.options,this.props.options)){var i=q(this.maps_,ne),s="function"==typeof this.props.options?this.props.options(i):this.props.options;if("minZoom"in(s=L(s,["zoom","center","draggable"]))){var a=this._computeMinZoom(s.minZoom);s.minZoom=Ee(s.minZoom,a)}this.map_.setOptions(s)}A(this.props.layerTypes,e.layerTypes)||(Object.keys(this.layers_).forEach((function(e){t.layers_[e].setMap(null),delete t.layers_[e]})),this._setLayers(this.props.layerTypes)),this.heatmap&&!A(this.props.heatmap.positions,e.heatmap.positions)&&this.heatmap.setData(this.props.heatmap.positions.map((function(e){return{location:new t.maps_.LatLng(e.lat,e.lng),weight:e.weight}}))),this.heatmap&&!A(this.props.heatmap.options,e.heatmap.options)&&Object.keys(this.props.heatmap.options).forEach((function(e){t.heatmap.set(e,t.props.heatmap.options[e])}))}this.markersDispatcher_.emit("kON_CHANGE"),A(this.props.hoverDistance,e.hoverDistance)||this.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE")},r.componentWillUnmount=function(){this.mounted_=!1;var e,t,n=u().findDOMNode(this.googleMapDom_);n&&n.removeEventListener("mousedown",this._onMapMouseDownNative,!0),window.removeEventListener("resize",this._onWindowResize),window.removeEventListener("keydown",this._onKeyDownCapture),window.removeEventListener("mouseup",this._onChildMouseUp,!1),this.props.resetBoundsOnResize&&(t=this._mapDomResizeCallback,e=(e=n).parentNode,le?e.detachEvent("onresize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",me),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))),this.overlay_&&this.overlay_.setMap(null),this.maps_&&this.map_&&this.props.shouldUnregisterMapOnUnmount&&(this.map_.setOptions({scrollwheel:!1}),this.maps_.event.clearInstanceListeners(this.map_)),this.props.shouldUnregisterMapOnUnmount&&(this.map_=null,this.maps_=null),this.markersDispatcher_.dispose(),this.resetSizeOnIdle_=!1,this.props.shouldUnregisterMapOnUnmount&&(delete this.map_,delete this.markersDispatcher_)},r.render=function(){var e=this.state.overlay,n=e?null:t().createElement(N,{experimental:this.props.experimental,onChildClick:this._onChildClick,onChildMouseDown:this._onChildMouseDown,onChildMouseEnter:this._onChildMouseEnter,onChildMouseLeave:this._onChildMouseLeave,geoService:this.geoService_,insideMapPanes:!1,distanceToMouse:this.props.distanceToMouse,getHoverDistance:this._getHoverDistance,dispatcher:this.markersDispatcher_});return t().createElement("div",{style:this.props.style,onMouseMove:this._onMapMouseMove,onMouseDownCapture:this._onMapMouseDownCapture,onClick:this._onMapClick},t().createElement(x,{registerChild:this._registerChild}),ke&&e&&Te(this._renderPortal(),e),n)},n}(e.Component);Le.propTypes={apiKey:c().string,bootstrapURLKeys:c().any,defaultCenter:c().oneOfType([c().array,c().shape({lat:c().number,lng:c().number})]),center:c().oneOfType([c().array,c().shape({lat:c().number,lng:c().number})]),defaultZoom:c().number,zoom:c().number,onBoundsChange:c().func,onChange:c().func,onClick:c().func,onChildClick:c().func,onChildMouseDown:c().func,onChildMouseUp:c().func,onChildMouseMove:c().func,onChildMouseEnter:c().func,onChildMouseLeave:c().func,onZoomAnimationStart:c().func,onZoomAnimationEnd:c().func,onDrag:c().func,onDragEnd:c().func,onMapTypeIdChange:c().func,onTilesLoaded:c().func,options:c().any,distanceToMouse:c().func,hoverDistance:c().number,debounced:c().bool,margin:c().array,googleMapLoader:c().any,onGoogleApiLoaded:c().func,yesIWantToUseGoogleMapApiInternals:c().bool,draggable:c().bool,style:c().any,resetBoundsOnResize:c().bool,layerTypes:c().arrayOf(c().string),shouldUnregisterMapOnUnmount:c().bool},Le.defaultProps={distanceToMouse:function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},hoverDistance:30,debounced:!0,options:function(){return{overviewMapControl:!1,streetViewControl:!1,rotateControl:!0,mapTypeControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],minZoom:3}},googleMapLoader:H,yesIWantToUseGoogleMapApiInternals:!1,style:{width:"100%",height:"100%",margin:0,padding:0,position:"relative"},layerTypes:[],heatmap:{},heatmapLibrary:!1,shouldUnregisterMapOnUnmount:!0},Le.googleMapLoader=H;const Oe=Le;function Se(e){let t="wp20";return void 0!==e&&-1!==e.indexOf("is-style-sotw-2023")&&(t="sotw2023"),t}const Ae={wp20:[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"geometry",stylers:[{color:"#c7d1ff"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#C9D1FB"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],sotw2023:[{elementType:"geometry",stylers:[{color:"#e7e7e7"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]};var Pe=n(17),De=n.n(Pe);const Ie=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class ze{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");const r=n>>4;if(1!==r)throw new Error(`Got v${r} data when expected v1.`);const o=Ie[15&n];if(!o)throw new Error("Unrecognized array type.");const[i]=new Uint16Array(e,2,1),[s]=new Uint32Array(e,4,1);return new ze(s,i,o,e)}constructor(e,t=64,n=Float64Array,r){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const o=Ie.indexOf(this.ArrayType),i=2*e*this.ArrayType.BYTES_PER_ELEMENT,s=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-s%8)%8;if(o<0)throw new Error(`Unexpected typed array class: ${n}.`);r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+a,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+i+s+a),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+a,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+o]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return Ne(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:i,nodeSize:s}=this,a=[0,o.length-1,0],l=[];for(;a.length;){const c=a.pop()||0,p=a.pop()||0,u=a.pop()||0;if(p-u<=s){for(let s=u;s<=p;s++){const a=i[2*s],c=i[2*s+1];a>=e&&a<=n&&c>=t&&c<=r&&l.push(o[s])}continue}const h=u+p>>1,m=i[2*h],d=i[2*h+1];m>=e&&m<=n&&d>=t&&d<=r&&l.push(o[h]),(0===c?e<=m:t<=d)&&(a.push(u),a.push(h-1),a.push(1-c)),(0===c?n>=m:r>=d)&&(a.push(h+1),a.push(p),a.push(1-c))}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:o,nodeSize:i}=this,s=[0,r.length-1,0],a=[],l=n*n;for(;s.length;){const c=s.pop()||0,p=s.pop()||0,u=s.pop()||0;if(p-u<=i){for(let n=u;n<=p;n++)Ue(o[2*n],o[2*n+1],e,t)<=l&&a.push(r[n]);continue}const h=u+p>>1,m=o[2*h],d=o[2*h+1];Ue(m,d,e,t)<=l&&a.push(r[h]),(0===c?e-n<=m:t-n<=d)&&(s.push(u),s.push(h-1),s.push(1-c)),(0===c?e+n>=m:t+n>=d)&&(s.push(h+1),s.push(p),s.push(1-c))}return a}}function Ne(e,t,n,r,o,i){if(o-r<=n)return;const s=r+o>>1;je(e,t,s,r,o,i),Ne(e,t,n,r,s-1,1-i),Ne(e,t,n,s+1,o,1-i)}function je(e,t,n,r,o,i){for(;o>r;){if(o-r>600){const s=o-r+1,a=n-r+1,l=Math.log(s),c=.5*Math.exp(2*l/3),p=.5*Math.sqrt(l*c*(s-c)/s)*(a-s/2<0?-1:1);je(e,t,n,Math.max(r,Math.floor(n-a*c/s+p)),Math.min(o,Math.floor(n+(s-a)*c/s+p)),i)}const s=t[2*n+i];let a=r,l=o;for(Ze(e,t,r,n),t[2*o+i]>s&&Ze(e,t,r,o);a<l;){for(Ze(e,t,a,l),a++,l--;t[2*a+i]<s;)a++;for(;t[2*l+i]>s;)l--}t[2*r+i]===s?Ze(e,t,r,l):(l++,Ze(e,t,l,o)),l<=n&&(r=l+1),n<=l&&(o=l-1)}}function Ze(e,t,n,r){Re(e,n,r),Re(t,2*n,2*r),Re(t,2*n+1,2*r+1)}function Re(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Ue(e,t,n,r){const o=e-n,i=t-r;return o*o+i*i}const Fe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},He=Math.fround||(Be=new Float32Array(1),e=>(Be[0]=+e,Be[0]));var Be;const Ke=3,We=5,$e=6;class Ge{constructor(e){this.options=Object.assign(Object.create(Fe),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:n,maxZoom:r}=this.options;t&&console.time("total time");const o=`prepare ${e.length} points`;t&&console.time(o),this.points=e;const i=[];for(let t=0;t<e.length;t++){const n=e[t];if(!n.geometry)continue;const[r,o]=n.geometry.coordinates,s=He(Xe(r)),a=He(Ye(o));i.push(s,a,1/0,t,-1,1),this.options.reduce&&i.push(0)}let s=this.trees[r+1]=this._createTree(i);t&&console.timeEnd(o);for(let e=r;e>=n;e--){const n=+Date.now();s=this.trees[e]=this._createTree(this._cluster(s,e)),t&&console.log("z%d: %d clusters in %dms",e,s.numItems,+Date.now()-n)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,e[1]));let o=180===e[2]?180:((e[2]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,o=180;else if(n>o){const e=this.getClusters([n,r,180,i],t),s=this.getClusters([-180,r,o,i],t);return e.concat(s)}const s=this.trees[this._limitZoom(t)],a=s.range(Xe(n),Ye(i),Xe(o),Ye(r)),l=s.data,c=[];for(const e of a){const t=this.stride*e;c.push(l[t+We]>1?Ve(l,t,this.clusterProps):this.points[l[t+Ke]])}return c}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",o=this.trees[n];if(!o)throw new Error(r);const i=o.data;if(t*this.stride>=i.length)throw new Error(r);const s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=i[t*this.stride],l=i[t*this.stride+1],c=o.within(a,l,s),p=[];for(const t of c){const n=t*this.stride;i[n+4]===e&&p.push(i[n+We]>1?Ve(i,n,this.clusterProps):this.points[i[n+Ke]])}if(0===p.length)throw new Error(r);return p}getLeaves(e,t,n){t=t||10,n=n||0;const r=[];return this._appendLeaves(r,e,t,n,0),r}getTile(e,t,n){const r=this.trees[this._limitZoom(e)],o=Math.pow(2,e),{extent:i,radius:s}=this.options,a=s/i,l=(n-a)/o,c=(n+1+a)/o,p={features:[]};return this._addTileFeatures(r.range((t-a)/o,l,(t+1+a)/o,c),r.data,t,n,o,p),0===t&&this._addTileFeatures(r.range(1-a/o,l,1,c),r.data,o,n,o,p),t===o-1&&this._addTileFeatures(r.range(0,l,a/o,c),r.data,-1,n,o,p),p.features.length?p:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,o){const i=this.getChildren(t);for(const t of i){const i=t.properties;if(i&&i.cluster?o+i.point_count<=r?o+=i.point_count:o=this._appendLeaves(e,i.cluster_id,n,r,o):o<r?o++:e.push(t),e.length===n)break}return o}_createTree(e){const t=new ze(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,r,o,i){for(const s of e){const e=s*this.stride,a=t[e+We]>1;let l,c,p;if(a)l=qe(t,e,this.clusterProps),c=t[e],p=t[e+1];else{const n=this.points[t[e+Ke]];l=n.properties;const[r,o]=n.geometry.coordinates;c=Xe(r),p=Ye(o)}const u={type:1,geometry:[[Math.round(this.options.extent*(c*o-n)),Math.round(this.options.extent*(p*o-r))]],tags:l};let h;h=a||this.options.generateId?t[e+Ke]:this.points[t[e+Ke]].id,void 0!==h&&(u.id=h),i.features.push(u)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:n,extent:r,reduce:o,minPoints:i}=this.options,s=n/(r*Math.pow(2,t)),a=e.data,l=[],c=this.stride;for(let n=0;n<a.length;n+=c){if(a[n+2]<=t)continue;a[n+2]=t;const r=a[n],p=a[n+1],u=e.within(a[n],a[n+1],s),h=a[n+We];let m=h;for(const e of u){const n=e*c;a[n+2]>t&&(m+=a[n+We])}if(m>h&&m>=i){let e,i=r*h,s=p*h,d=-1;const f=(n/c<<5)+(t+1)+this.points.length;for(const r of u){const l=r*c;if(a[l+2]<=t)continue;a[l+2]=t;const p=a[l+We];i+=a[l]*p,s+=a[l+1]*p,a[l+4]=f,o&&(e||(e=this._map(a,n,!0),d=this.clusterProps.length,this.clusterProps.push(e)),o(e,this._map(a,l)))}a[n+4]=f,l.push(i/m,s/m,1/0,f,-1,m),o&&l.push(d)}else{for(let e=0;e<c;e++)l.push(a[n+e]);if(m>1)for(const e of u){const n=e*c;if(!(a[n+2]<=t)){a[n+2]=t;for(let e=0;e<c;e++)l.push(a[n+e])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+We]>1){const r=this.clusterProps[e[t+$e]];return n?Object.assign({},r):r}const r=this.points[e[t+Ke]].properties,o=this.options.map(r);return n&&o===r?Object.assign({},o):o}}function Ve(e,t,n){return{type:"Feature",id:e[t+Ke],properties:qe(e,t,n),geometry:{type:"Point",coordinates:[Qe(e[t]),Je(e[t+1])]}}}function qe(e,t,n){const r=e[t+We],o=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?Math.round(r/100)/10+"k":r,i=e[t+$e],s=-1===i?{}:Object.assign({},n[i]);return Object.assign(s,{cluster:!0,cluster_id:e[t+Ke],point_count:r,point_count_abbreviated:o})}function Xe(e){return e/360+.5}function Ye(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Qe(e){return 360*(e-.5)}function Je(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}class et{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class tt{constructor({markers:e,position:t}){this.markers=e,t&&(t instanceof google.maps.LatLng?this._position=t:this._position=new google.maps.LatLng(t))}get bounds(){if(0===this.markers.length&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const t of this.markers)e.extend(et.getPosition(t));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((e=>et.getVisible(e))).length}push(e){this.markers.push(e)}delete(){this.marker&&(et.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class nt{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return rt(e)}}const rt=e=>e.map((e=>new tt({position:et.getPosition(e),markers:[e]})));class ot extends nt{constructor(e){var{maxZoom:t,radius:n=60}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new Ge(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(e){let t=!1;const n={zoom:e.map.getZoom()};if(!De()(e.markers,this.markers)){t=!0,this.markers=[...e.markers];const n=this.markers.map((e=>{const t=et.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}}));this.superCluster.load(n)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!De()(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map((e=>this.transformCluster(e)))}transformCluster({geometry:{coordinates:[e,t]},properties:n}){if(n.cluster)return new tt({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map((e=>e.properties.marker)),position:{lat:t,lng:e}});const r=n.marker;return new tt({markers:[r],position:et.getPosition(r)})}}class it{constructor(e,t){this.markers={sum:e.length};const n=t.map((e=>e.count)),r=n.reduce(((e,t)=>e+t),0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...n),max:Math.max(...n)}}}}class st{render({count:e,position:t},n,r){const o=`<svg fill="${e>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>\n</svg>`,i=`Cluster of ${e} markers`,s=Number(google.maps.Marker.MAX_ZINDEX)+e;if(et.isAdvancedMarkerAvailable(r)){const e=(new DOMParser).parseFromString(o,"image/svg+xml").documentElement;e.setAttribute("transform","translate(0 25)");const n={map:r,position:t,zIndex:s,title:i,content:e};return new google.maps.marker.AdvancedMarkerElement(n)}const a={position:t,zIndex:s,title:i,icon:{url:`data:image/svg+xml;base64,${btoa(o)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(a)}}class at{constructor(){!function(e,t){for(let n in t.prototype)e.prototype[n]=t.prototype[n]}(at,google.maps.OverlayView)}}var lt;!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(lt||(lt={}));const ct=(e,t,n)=>{n.fitBounds(t.bounds)};class pt extends at{constructor({map:e,markers:t=[],algorithmOptions:n={},algorithm:r=new ot(n),renderer:o=new st,onClusterClick:i=ct}){super(),this.markers=[...t],this.clusters=[],this.algorithm=r,this.renderer=o,this.onClusterClick=i,e&&this.setMap(e)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach((e=>{this.addMarker(e,!0)})),t||this.render()}removeMarker(e,t){const n=this.markers.indexOf(e);return-1!==n&&(et.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){let n=!1;return e.forEach((e=>{n=this.removeMarker(e,!0)||n})),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,lt.CLUSTERING_BEGIN,this);const{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||null==n){const e=new Set;for(const n of t)1==n.markers.length&&e.add(n.markers[0]);const n=[];for(const t of this.clusters)null!=t.marker&&(1==t.markers.length?e.has(t.marker)||et.setMap(t.marker,null):n.push(t.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame((()=>n.forEach((e=>et.setMap(e,null)))))}google.maps.event.trigger(this,lt.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((e=>et.setMap(e,null))),this.clusters.forEach((e=>e.delete())),this.clusters=[]}renderClusters(){const e=new it(this.markers,this.clusters),t=this.getMap();this.clusters.forEach((n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach((e=>et.setMap(e,null))),this.onClusterClick&&n.marker.addListener("click",(e=>{google.maps.event.trigger(this,lt.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)}))),et.setMap(n.marker,t)}))}}function ut(t){const n=new Date(1e3*t),r=n.toLocaleDateString([],{weekday:"long",year:"numeric",month:"short",day:"numeric"}),o=n.toLocaleString([],{timeZoneName:"short",hour:"numeric",minute:"2-digit"});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{className:"wporg-google-map__date"},r),(0,e.createElement)("span",{className:"wporg-google-map__date-time-separator"}),(0,e.createElement)("span",{className:"wporg-google-map__time"},o))}var ht=n(181),mt=n.n(ht);const dt=window.wp.a11y,ft=mt()(dt.speak,1e3);function gt(e){return"online"===e&&(e="Online"),e}function yt(t){const{type:n}=t;switch(n){case"wordcamp":return(0,e.createElement)(_t,{...t});case"meetup":return(0,e.createElement)(vt,{...t});case"combined":return(0,e.createElement)(wt,{...t});default:throw"Component not defined for marker type: "+n}}function _t({id:t,title:n,url:r,timestamp:o,location:i}){return(0,e.createElement)("div",{id:"wporg-map-marker__id-"+t,className:"wporg-map-marker"},(0,e.createElement)("h3",{className:"wporg-map-marker__title"},n),(0,e.createElement)("p",{className:"wporg-map-marker__url"},(0,e.createElement)("a",{href:r},"Open event site")),(0,e.createElement)("p",{className:"wporg-map-marker__location"},gt(i)),(0,e.createElement)("p",{className:"wporg-map-marker__date-time"},ut(o)))}function vt({id:t,title:n,url:r,meetup:o,timestamp:i,location:s}){return(0,e.createElement)("div",{id:"wporg-map-marker__id-"+t,className:"wporg-map-marker"},(0,e.createElement)("h3",{className:"wporg-map-marker__title"},o),(0,e.createElement)("p",{className:"wporg-map-marker__url"},(0,e.createElement)("a",{href:r},n)),(0,e.createElement)("p",{className:"wporg-map-marker__location"},gt(s)),(0,e.createElement)("p",{className:"wporg-map-marker__date-time"},ut(i)))}function wt({events:t}){const n=t.map((({id:e})=>e)).join("-");let r;return r="online"!==t[0].location.toLowerCase()?t[0].location:t[0].meetup&&t[0].meetup.length?t[0].meetup:t[0].title,(0,e.createElement)("div",{id:"wporg-map-marker__id-"+n,className:"wporg-map-marker"},(0,e.createElement)("h3",{className:"wporg-map-marker__title"},r),(0,e.createElement)("ul",null,t.map((({id:t,url:n,title:r,location:o,timestamp:i})=>(0,e.createElement)("li",{key:t},(0,e.createElement)("p",{className:"wporg-map-marker__url"},(0,e.createElement)("a",{href:n},r)),(0,e.createElement)("p",{className:"wporg-map-marker__location"},gt(o)),(0,e.createElement)("p",{className:"wporg-map-marker__date-time"},ut(i)))))))}function bt(e){const t={};return e.forEach((e=>{const n=e.latitude+"|"+e.longitude;t[n]?(t[n].hasOwnProperty("events")||(t[n]={type:"combined",events:[t[n]],latitude:e.latitude,longitude:e.longitude}),t[n].events.push(e)):t[n]=e})),Object.values(t)}function Mt(t,n,o,i,s,a){const l={url:s.imagesDirUrl+`/map-marker-${a}.svg`,size:new n.Size(s.markerHeight,s.markerWidth),anchor:new n.Point(34,s.markerWidth/2),scaledSize:new n.Size(s.markerHeight/2,s.markerWidth/2)};return i.forEach((i=>{if(i.markerRef)return;const s=new n.Marker({position:{lat:parseFloat(i.latitude),lng:parseFloat(i.longitude)},map:t,icon:l});s.addListener("click",(()=>{!function(t,n,o,i){t.setContent(function(e){const t=document.createElement("div"),n=(0,r.createRoot)(t);return(0,r.flushSync)((()=>{n.render(e)})),t.innerHTML}((0,e.createElement)(yt,{...i}))),t.open({anchor:o,map:n,shouldFocus:!1})}(o,t,s,i),Ct([s],t)})),i.markerRef=s})),i}function Ct(e,t,n){if(0===e.length)return;if(1===e.length)return void t.panTo({lat:e[0].position.lat(),lng:e[0].position.lng()},1e3,google.maps.Animation.easeInOut);const r=new n.LatLngBounds;e.map((e=>r.extend(e.position))),t.fitBounds(r)}function kt(){return(0,e.createElement)("svg",{className:"wporg-google-map__spinner",viewBox:"0 0 100 100",width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",role:"presentation",focusable:"false"},(0,e.createElement)("circle",{cx:"50",cy:"50",r:"50",vectorEffect:"non-scaling-stroke"}),(0,e.createElement)("path",{d:"m 50 0 a 50 50 0 0 1 50 50",vectorEffect:"non-scaling-stroke"}))}function Tt({apiKey:t,markers:n,icon:o,blockStyle:i}){const[s,a]=(0,r.useState)(!1),l=(0,r.useRef)(null),c=(0,r.useRef)(null),p=(0,r.useRef)(null),u=(0,r.useRef)(null);let h=[];const m={zoomControl:!0,mapTypeControl:!1,streetViewControl:!1,styles:Ae[i]},d=(0,r.useCallback)((({map:e,maps:t})=>{if(!e||!t)throw"Google Maps API is not loaded.";c.current=e,p.current=t,u.current=new t.InfoWindow({pixelOffset:new t.Size(o.markerAnchorXOffset,o.markerAnchorYOffset)}),h=bt(n),h=Mt(e,t,u.current,h,o,i),l.current=function(e,t,n,r,o){const i={url:r.imagesDirUrl+`/cluster-background-${o}.svg`,size:new t.Size(r.clusterHeight,r.clusterWidth),anchor:new t.Point(r.clusterHeight,r.clusterWidth),scaledSize:new t.Size(r.clusterHeight,r.clusterWidth)};return new pt({map:e,markers:n,renderer:{render:({count:e,position:n})=>new t.Marker({label:{text:String(e),color:"white",fontSize:"10px"},position:n,zIndex:Number(t.Marker.MAX_ZINDEX)+e,icon:i})}})}(e,t,h.map((e=>e.markerRef)),o,i),Ct(h.map((e=>e.markerRef)),c.current,p.current),a(!0)}),[]);return(0,r.useEffect)((()=>{if(!l.current)return;u.current.close(),h=bt(n),h=Mt(c.current,p.current,u.current,h,o,i);const e=h.map((e=>e.markerRef));!function(e,t){e.clearMarkers(!0),e.addMarkers(t)}(l.current,e,c.current),Ct(e,c.current,p.current)}),[n]),(0,e.createElement)("div",{className:"wporg-google-map__container"},!s&&(0,e.createElement)(kt,null),(0,e.createElement)(Oe,{defaultZoom:1,defaultCenter:{lat:30,lng:10},bootstrapURLKeys:{key:t},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:d,options:m}))}function xt({markers:t,displayLimit:n}){return 0===t.length?(0,e.createElement)("p",{className:"wporg-marker-list__container"},(0,s.__)("No events available","wporg")):(n>0&&(t=t.slice(0,n)),(0,e.createElement)("ul",{className:"wporg-marker-list__container"},t.map((t=>(0,e.createElement)("li",{key:t.id,id:"wporg-marker-list-item__id-"+t.id,className:"wporg-marker-list-item"},(0,e.createElement)("h3",{className:"wporg-marker-list-item__title"},(0,e.createElement)("a",{href:t.url},t.title)),(0,e.createElement)("p",{className:"wporg-marker-list-item__location"},gt(t.location)),(0,e.createElement)("p",{className:"wporg-marker-list-item__date-time"},ut(t.timestamp)))))))}function Et({blockStyle:t,showMap:n,showList:o,listDisplayLimit:l,showSearch:c,apiKey:p,markers:u,markerIcon:h,searchIcon:m,searchFields:d,searchFormAction:f}){const[g,y]=(0,r.useState)(""),_=(0,r.useRef)(!1),v=u.map((e=>(e.latitude=parseFloat(e.latitude),e.longitude=parseFloat(e.longitude),e))).filter((e=>!Number.isNaN(e.latitude)&&!Number.isNaN(e.longitude))),[w,b]=(0,r.useState)(v),M=(0,r.useCallback)((e=>{y(e.target.value),f||(e.target.scrollIntoView({inline:"start",behavior:"smooth"}),k(e.target.value))}),[]),C=(0,r.useCallback)((e=>{const t=function(e,t,n){const r=[];return""===t?e:(e.forEach((e=>{let o=n.map((t=>e[t])).join(" ");o=o.replace(/\u00A0/g," "),o.search(new RegExp(t,"i"))>=0&&r.push(e)})),r)}(v,e,d);var n,r;b(t),_.current?(n=e,r=t.length,ft(""===n?(0,s.__)("Search cleared, showing all events.","wporg"):0===r?
// Translators: %s is the search query.
// Translators: %s is the search query.
(0,s.sprintf)((0,s.__)("No events were found matching %s.","wporg"),n):
// Translators: %s is the search query.
// Translators: %s is the search query.
(0,s.sprintf)((0,s.__)("Showing events that match %s.","wporg"),n))):_.current=!0}),[v,d]),k=(0,r.useMemo)((()=>i()(C,200,{leading:!1,trailing:!0})),[C]),T=new URL(document.location.href),x=f?T.searchParams.get("search"):g;return(0,e.createElement)(e.Fragment,null,c&&(0,e.createElement)(a,{formAction:f,searchQuery:g,onQueryChange:M,iconURL:m}),n&&(0,e.createElement)(Tt,{apiKey:p,markers:w,icon:h,blockStyle:t}),o&&w.length>0&&(0,e.createElement)(xt,{markers:w,displayLimit:l}),0===w.length&&x.length>0&&(0,e.createElement)("p",{className:"wporg-marker-list__container"},
// Translators: %s is the search query.
// Translators: %s is the search query.
(0,s.sprintf)((0,s.__)("No events were found matching %s.","wporg"),x)))}document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelectorAll(".wp-block-wporg-google-map");if(!t.length)throw"Map container element isn't present in the DOM.";let n;for(const o of t)n=(0,r.createRoot)(o),n.render((0,e.createElement)(Et,{blockStyle:Se(o.className),...wporgGoogleMap[o.dataset.mapId]}))}))})()})();